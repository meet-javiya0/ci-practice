CREATE TABLE IF NOT EXISTS "migrations" ("id" integer not null primary key autoincrement, "migration" varchar not null, "batch" integer not null);
CREATE TABLE IF NOT EXISTS "users" ("id" integer not null primary key autoincrement, "name" varchar not null, "email" varchar not null, "email_verified_at" datetime, "password" varchar not null, "remember_token" varchar, "current_team_id" integer, "profile_photo_path" varchar, "created_at" datetime, "updated_at" datetime, "two_factor_secret" text, "two_factor_recovery_codes" text);
CREATE UNIQUE INDEX "users_email_unique" on "users" ("email");
CREATE TABLE IF NOT EXISTS "password_resets" ("email" varchar not null, "token" varchar not null, "created_at" datetime);
CREATE INDEX "password_resets_email_index" on "password_resets" ("email");
CREATE TABLE IF NOT EXISTS "failed_jobs" ("id" integer not null primary key autoincrement, "uuid" varchar not null, "connection" text not null, "queue" text not null, "payload" text not null, "exception" text not null, "failed_at" datetime default CURRENT_TIMESTAMP not null);
CREATE UNIQUE INDEX "failed_jobs_uuid_unique" on "failed_jobs" ("uuid");
CREATE TABLE IF NOT EXISTS "personal_access_tokens" ("id" integer not null primary key autoincrement, "tokenable_type" varchar not null, "tokenable_id" integer not null, "name" varchar not null, "token" varchar not null, "abilities" text, "last_used_at" datetime, "created_at" datetime, "updated_at" datetime);
CREATE INDEX "personal_access_tokens_tokenable_type_tokenable_id_index" on "personal_access_tokens" ("tokenable_type", "tokenable_id");
CREATE UNIQUE INDEX "personal_access_tokens_token_unique" on "personal_access_tokens" ("token");
CREATE TABLE IF NOT EXISTS "sessions" ("id" varchar not null, "user_id" integer, "ip_address" varchar, "user_agent" text, "payload" text not null, "last_activity" integer not null, primary key ("id"));
CREATE INDEX "sessions_user_id_index" on "sessions" ("user_id");
CREATE INDEX "sessions_last_activity_index" on "sessions" ("last_activity");
CREATE TABLE IF NOT EXISTS "links" ("id" integer not null primary key autoincrement, "title" varchar, "link" varchar not null, "created_at" datetime, "updated_at" datetime, "media_type" varchar check ("media_type" in ('text', 'audio', 'video', 'image')), "user_id" integer not null default '1');
CREATE TABLE IF NOT EXISTS "tags" ("id" integer not null primary key autoincrement, "name" text not null, "slug" text not null, "type" varchar, "order_column" integer, "created_at" datetime, "updated_at" datetime, "user_id" integer not null default '1');
CREATE TABLE IF NOT EXISTS "taggables" ("tag_id" integer not null, "taggable_type" varchar not null, "taggable_id" integer not null, foreign key("tag_id") references "tags"("id") on delete cascade);
CREATE INDEX "taggables_taggable_type_taggable_id_index" on "taggables" ("taggable_type", "taggable_id");
CREATE UNIQUE INDEX "taggables_tag_id_taggable_id_taggable_type_unique" on "taggables" ("tag_id", "taggable_id", "taggable_type");
CREATE TABLE IF NOT EXISTS "groups" ("id" integer not null primary key autoincrement, "title" varchar, "user_id" integer not null, "created_at" datetime, "updated_at" datetime, "parent_group_id" integer, foreign key("user_id") references "users"("id") on delete cascade);
CREATE TABLE IF NOT EXISTS "groupables" ("group_id" integer not null, "groupable_type" varchar not null, "groupable_id" integer not null, foreign key("group_id") references "groups"("id") on delete cascade);
CREATE INDEX "groupables_groupable_type_groupable_id_index" on "groupables" ("groupable_type", "groupable_id");
CREATE UNIQUE INDEX "groupables_group_id_groupable_id_groupable_type_unique" on "groupables" ("group_id", "groupable_id", "groupable_type");
CREATE TABLE IF NOT EXISTS "later" ("id" integer not null primary key autoincrement, "link_id" integer not null, "created_at" datetime, "updated_at" datetime, foreign key("link_id") references "links"("id") on delete cascade);
INSERT INTO migrations VALUES(1,'2014_10_12_000000_create_users_table',1);
INSERT INTO migrations VALUES(2,'2014_10_12_100000_create_password_resets_table',1);
INSERT INTO migrations VALUES(3,'2014_10_12_200000_add_two_factor_columns_to_users_table',1);
INSERT INTO migrations VALUES(4,'2019_08_19_000000_create_failed_jobs_table',1);
INSERT INTO migrations VALUES(5,'2019_12_14_000001_create_personal_access_tokens_table',1);
INSERT INTO migrations VALUES(6,'2022_02_08_211531_create_sessions_table',1);
INSERT INTO migrations VALUES(7,'2022_02_12_131222_create_links_table',1);
INSERT INTO migrations VALUES(8,'2022_02_15_221348_create_tag_tables',1);
INSERT INTO migrations VALUES(9,'2022_02_26_152825_add_media_type_column_to_links_table',1);
INSERT INTO migrations VALUES(10,'2022_03_02_222008_add_user_id_columns_to_tables',1);
INSERT INTO migrations VALUES(11,'2022_03_10_181921_create_group_tables',1);
INSERT INTO migrations VALUES(12,'2022_03_16_183725_add_parent_group_id_column_to_groups_table',1);
INSERT INTO migrations VALUES(13,'2022_04_10_091817_create_later_table',1);
